<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta property="wb:webmaster" content="3caf5a5b94e6991e" />
    
    <link rel="shortcut icon" href="../template/coolblue/images/chine.ico"/>
    
    <title> tools | winoi</title>
    
    <link type="text/css" rel="stylesheet" href="../template/coolblue/css/bootstrap.min.css"><link>
    <link rel="stylesheet" type="text/css" media="screen" href="../template/coolblue/css/coolblue.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="../template/coolblue/css/chine.css" />
    
    <script src="../template/coolblue/js/jquery-1.7.2.min.js"></script>
    <script src="../template/coolblue/js/scrollToTop.js"></script>
    <script src="../template/coolblue/js/inputFocusOrBlur.js"></script>
    <script src="../template/coolblue/js/jquery.form.js"></script> 
    <script src="../template/coolblue/js/bootstrap-transition.js"></script> 
    <script src="../template/coolblue/js/bootstrap-tooltip.js"></script>
    <script src="../template/coolblue/js/bootstrap-modal.js"></script> 
    <script src="../template/coolblue/js/subscribe.js"></script> 
    
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
    
</head>
<body id="top">
    
    <!--header -->
<div id="header-wrap"><header>
    <hgroup>
        <h1>tools</h1>
    </hgroup>

    <nav>
        <ul>
            <li><a href="http://www.winoi.com">首页</a><span></span></li>
            <li id="current"><a href="../index.html">笔记目录</a><span></span></li>
            <li><a href="../about.html">关于</a><li>
        </ul>
    </nav>

<!--/header-->
</header></div>

    
    <!-- content-wrap -->
    <div id="content-wrap">
        <!-- content -->
        <div id="content" class="clearfix">
    &nbsp;
           
<h1 id="toc_1"> Linux　工具</h1>
<h2 id="toc_1.1"> Crontab:</h2>
<h3 id="toc_1.1.1"> 定时运行上传git脚本:</h3>
<h4 id="toc_1.1.1.1">1 写脚本.</h4>
<p>
#!/bin/bash不要少，告诉linux该文件的类型。如果脚本是用python写的，那么就写：
</p>
<blockquote>
#!/usr/bin/python2.7
</blockquote>
<p>
这里要记得cd到工作树的目录!
</p>
<h4 id="toc_1.1.1.2">2 改变脚本的属性</h4>
<blockquote>
chmod a+x gitpush.sh
</blockquote>
<h4 id="toc_1.1.1.3">3 设置crontab服务</h4>
<p>
进入编辑界面
</p>
<blockquote>
crontab -e
</blockquote>
<p>
设置半小时提交一次
</p>
<blockquote>
*/30 * * * * env DISPLAY=:0 /home/wenbin/winoi.com/gitpush.sh
</blockquote>
<p>
这里env DISPLAY=:0 启用了显示服务.如果要显示已提交信息还需要在脚本中用notify-send工具
</p>
<blockquote>
notify-send  -t 2000 "<span color=\"green\">git@gibhub has been synchronized</span>"
</blockquote>
    
    
    
<h2 id="toc_1.2"> scp:</h2>
<pre>
设有两机，均为局域网，两机可相互通信无问题，中间无防火墙。
两机IP分别为：A:192.168.1.240 B:192.168.1.102
假设A，B机的SSH都允许root登录
设要把 A上的 /root/abc.zip 传到 B机并放到/abc目录，可以在A机上用命令
    scp  /root/abc.zip  root@192.168.1.102:/abc/
若SSH端口不是默认的22，比如，是端口1234 则加-P参数：
    scp  -P 1234 /root/abc.zip  root@192.168.1.102:/abc/
也可以在B机上用命令：
    scp  root@192.168.1.240:/root/abc.zip  /abc/ 
</pre>
 
        <div>
   <div>

<!-- footer -->
<footer>
    <p class="footer-left">
        &copy; 2013 Copyright Info &nbsp; &nbsp; &nbsp;
         powered by <a href="http://www.vim.org/scripts/script.php?script_id=2226", target="_blank">vimwiki</a>
    </p>

    <p class="footer-right">
        <a href="../index.html">Home</a> |
        <a href="#top" class="back-to-top">Back to Top</a>
    </p>
<!-- /footer -->
</footer>

</body>
