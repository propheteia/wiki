<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content=""/>
        <meta name="keywords" content=""/> 
        <meta name="author" content=""/> 
        <link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
        <link rel="Stylesheet" type="text/css" href="../template/style.css" />
        <script type="text/javascript" src="../template/scripts/shCore.js"></script>
        <link type="text/css" rel="stylesheet" href="../template/styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../template/styles/shCoreFadeToGrey.css"/>
        <link type="text/css" rel="stylesheet" href="../template/styles/shThemeDefault.css"/>
        <script type="text/javascript" src="../template/scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="../template/scripts/shBrushPython.js"></script>
        <script type="text/javascript">
        SyntaxHighlighter.all();
        </script>
        <title>Winoi's wiki</title>
    </head>

    <body>
        <div id="wrapper">
        <div id="container">

        <div class="header">
	        <h1>笔记本</a></h1>
        </div>

        <div class="navigation">
            <a href="http://www.winoi.com">首页</a>
            <a href="../index.html">笔记目录</a>
            <a href="../about.html">关于</a>
        <div class="clearer"></div>
        </div>

        <div class=content>
        
<h1 id="toc_1"> Linux　工具</h1>
<h2 id="toc_1.1"> Crontab:</h2>
<h3 id="toc_1.1.1"> 定时运行上传git脚本:</h3>
<h4 id="toc_1.1.1.1">1 写脚本.</h4>
<p>
#!/bin/bash不要少，告诉linux该文件的类型。如果脚本是用python写的，那么就写：
</p>
<blockquote>
#!/usr/bin/python2.7
</blockquote>
<p>
这里要记得cd到工作树的目录!
</p>
<h4 id="toc_1.1.1.2">2 改变脚本的属性</h4>
<blockquote>
chmod a+x gitpush.sh
</blockquote>
<h4 id="toc_1.1.1.3">3 设置crontab服务</h4>
<p>
进入编辑界面
</p>
<blockquote>
crontab -e
</blockquote>
<p>
设置半小时提交一次
</p>
<blockquote>
*/30 * * * * env DISPLAY=:0 /home/wenbin/winoi.com/gitpush.sh
</blockquote>
<p>
这里env DISPLAY=:0 启用了显示服务.如果要显示已提交信息还需要在脚本中用notify-send工具
</p>
<blockquote>
notify-send  -t 2000 "<span color=\"green\">git@gibhub has been synchronized</span>"
</blockquote>
    
    
    
<h2 id="toc_1.2"> scp:</h2>
<pre>
设有两机，均为局域网，两机可相互通信无问题，中间无防火墙。
两机IP分别为：A:192.168.1.240 B:192.168.1.102
假设A，B机的SSH都允许root登录
设要把 A上的 /root/abc.zip 传到 B机并放到/abc目录，可以在A机上用命令
    scp  /root/abc.zip  root@192.168.1.102:/abc/
若SSH端口不是默认的22，比如，是端口1234 则加-P参数：
    scp  -P 1234 /root/abc.zip  root@192.168.1.102:/abc/
也可以在B机上用命令：
    scp  root@192.168.1.240:/root/abc.zip  /abc/ 
</pre>

        </div>

	    <div class="footer">
		
	    	<div class="left">
		    	Copyright &copy; 2013 <a href="index.html">winoi.com</a>
		    </div>

		    <div class="right">
                <script language="javascript" type="text/javascript" src="http://js.users.51.la/15309803.js"></script>
                <noscript><a href="http://www.51.la/?15309803" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/15309803.asp" style="border:none" /></a></noscript>
		    </div>

		    <div class="clearer"></div>

	    </div>

        </div>
        </div>
    </body>
</html>
