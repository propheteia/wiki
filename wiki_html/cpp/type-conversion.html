<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta charset="utf-8"/>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta property="wb:webmaster" content="3caf5a5b94e6991e" />
    
    <link rel="shortcut icon" href="../template/coolblue/images/chine.ico"/>
    
    <title> 数据类型转换 | winoi</title>
    
    <link type="text/css" rel="stylesheet" href="../template/coolblue/css/bootstrap.min.css"><link>
    <link rel="stylesheet" type="text/css" media="screen" href="../template/coolblue/css/coolblue.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="../template/coolblue/css/chine.css" />
    
    <script src="../template/coolblue/js/jquery-1.7.2.min.js"></script>
    <script src="../template/coolblue/js/scrollToTop.js"></script>
    <script src="../template/coolblue/js/inputFocusOrBlur.js"></script>
    <script src="../template/coolblue/js/jquery.form.js"></script> 
    <script src="../template/coolblue/js/bootstrap-transition.js"></script> 
    <script src="../template/coolblue/js/bootstrap-tooltip.js"></script>
    <script src="../template/coolblue/js/bootstrap-modal.js"></script> 
    <script src="../template/coolblue/js/subscribe.js"></script> 
    
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
    
</head>
<body id="top">
    
    <!--header -->
<div id="header-wrap"><header>
    <hgroup>
        <h1>数据类型转换</h1>
    </hgroup>

    <hgroup2>
        <h3>我们在燃烧的忍耐中武装，随着佛晓进入光辉的城镇</h3>
    </hgroup2>

    <nav>
        <ul>
            <li id="current"><a href="../index.html">Winoi的维基</a></li>
        </ul>
    </nav>

<!--/header-->
</header></div>

    
    <!-- content-wrap -->
    <div id="content-wrap">
        <!-- content -->
        <div id="content" class="clearfix">
    &nbsp;
           
<h1 id="toc_1"> int转换为char*</h1>
<p>
使用sprintf
</p>
<pre>
头文件 #include&lt;stdio.h&gt;

语法: int sprintf(string format, mixed [args]...);

返回值：字符串长度（strlen）

转换字符

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

% 印出百分比符号，不转换。

b 整数转成二进位。

c 整数转成对应的 ASCII 字元。

d 整数转成十进位。

f 倍精确度数字转成浮点数。

o 整数转成八进位。

s 整数转成字串。

x 整数转成小写十六进位。

X 整数转成大写十六进位。

例子:
    int n = 30;  

    char c[20];  

    sprintf(c, "%d", n);      
</pre>
<h1 id="toc_2"> 隐式转换</h1>
<p>
几个典型的隐式转换:
</p>
<blockquote>
int *ip;
ip = 0; //the int 0 converted to null pointer of type int *
</blockquote>
<blockquote>
int ival;
if (ival) // ival converted to bool
while(cin) // cin converted to bool
</blockquote>

<p>
还有个由标准库类型定义的转换
</p>
<blockquote>
string s;
while(cin&gt;&gt;s) // iostream converted to bool ,检验流的状态,是否结束
</blockquote>
    
<h1 id="toc_3"> 显式转换</h1>
<h2 id="toc_3.1"> 以前的显示转换</h2>
<blockquote>
float a=1.0f;
cout &lt;&lt; (int&amp;)a &lt;&lt; endl;
</blockquote>
<p>
这里(int&amp;)a相当于*(int*)&amp;a, 从float型a的地址开始读,认为它是int.
</p>

<p>
int&amp;是引用类型，(int &amp;)a的意思是将a存储单元开始的内容解释为一个int引用。
</p>

<p>
相关代码:
</p>
<pre>
//5-4-1.cpp 
#include&lt;iostream&gt;                                                      
#include&lt;stdio.h&gt;                                                       
#include&lt;string.h&gt;                                                      
using namespace std;                                                    
int main()                                                              
{                                                                       
    float a = 1.0f;                                                     
    cout&lt;&lt;(int)a&lt;&lt;endl;                                                 
    cout&lt;&lt;&amp;a&lt;&lt;endl;                                                     
    cout&lt;&lt;(int&amp;)a&lt;&lt;endl;                                                
    cout&lt;&lt;*(int*)&amp;a&lt;&lt;endl;                                              
    cout&lt;&lt;boolalpha&lt;&lt;((int)a==(int&amp;)a)&lt;&lt;endl;                           
 }   
</pre>

<p>
类似:
</p>
<pre>
#include&lt;stdio.h&gt;    
int main()
{
    unsigned int a = 0xfffffff7;
    unsigned char i = (unsigned char)a;
    char *b = (char*)&amp;a; // 等同与 unsigned int *p = a; char *b = (char*)p
}
</pre>



<h2 id="toc_3.2"> 命名的强制类型转换</h2>
<p>
#TODO
</p>
 
        <div>
   <div>

<!-- footer -->
<footer>
    <p class="footer-left">
        &copy; 2013 Copyright Info &nbsp; &nbsp; &nbsp;
         powered by <a href="http://www.vim.org/scripts/script.php?script_id=2226", target="_blank">vimwiki</a>
    </p>

    <p class="footer-right">
        <a href="../index.html">Home</a> |
        <a href="#top" class="back-to-top">Back to Top</a>
    </p>
<!-- /footer -->
</footer>

</body>
</html>
